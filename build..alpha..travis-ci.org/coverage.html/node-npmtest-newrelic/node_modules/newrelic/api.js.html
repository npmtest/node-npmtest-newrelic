<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-newrelic/node_modules/newrelic/api.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-newrelic">npmtest-newrelic (v0.0.2)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-newrelic/node_modules/newrelic/api.js</span></h1>
    <h2>
        
        Statements: <span class="metric">10.61% <small>(35 / 330)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 181)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 27)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">10.94% <small>(35 / 320)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-newrelic/node_modules/newrelic/</a> &#187; api.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict'
&nbsp;
var util = require('util')
var logger = require('./lib/logger').child({component: 'api'})
var NAMES = require('./lib/metrics/names')
var recordWeb = require('./lib/metrics/recorders/http.js')
var recordBackground = require('./lib/metrics/recorders/other.js')
var customRecorder = require('./lib/metrics/recorders/custom')
var hashes = require('./lib/util/hashes')
var stringify = require('json-stringify-safe')
&nbsp;
&nbsp;
/*
 *
 * CONSTANTS
 *
 */
var RUM_STUB = "&lt;script type='text/javascript'&gt;window.NREUM||(NREUM={});" +
                "NREUM.info = %s; %s&lt;/script&gt;"
&nbsp;
// these messages are used in the _gracefail() method below in getBrowserTimingHeader
var RUM_ISSUES = [
  'NREUM: no browser monitoring headers generated; disabled',
  'NREUM: transaction missing while generating browser monitoring headers',
  'NREUM: config.browser_monitoring missing, something is probably wrong',
  'NREUM: browser_monitoring headers need a transaction name',
  'NREUM: browser_monitoring requires valid application_id',
  'NREUM: browser_monitoring requires valid browser_key',
  'NREUM: browser_monitoring requires js_agent_loader script',
  'NREUM: browser_monitoring disabled by browser_monitoring.loader config'
]
&nbsp;
// can't overwrite internal parameters or all heck will break loose
var CUSTOM_BLACKLIST = [
  'nr_flatten_leading'
]
&nbsp;
var CUSTOM_EVENT_TYPE_REGEX = /^[a-zA-Z0-9:_ ]+$/
&nbsp;
/**
 * The exported New Relic API. This contains all of the functions meant to be
 * used by New Relic customers. For now, that means transaction naming.
 */
<span class="fstat-no" title="function not covered" >function API(agent) {</span>
<span class="cstat-no" title="statement not covered" >  this.agent = agent</span>
}
&nbsp;
/**
 * Give the current transaction a custom name. Overrides any New Relic naming
 * rules set in configuration or from New Relic's servers.
 *
 * IMPORTANT: this function must be called when a transaction is active. New
 * Relic transactions are tied to web requests, so this method may be called
 * from within HTTP or HTTPS listener functions, Express routes, or other
 * contexts where a web request or response object are in scope.
 *
 * @param {string} name The name you want to give the web request in the New
 *                      Relic UI. Will be prefixed with 'Custom/' when sent.
 */
API.prototype.setTransactionName = <span class="fstat-no" title="function not covered" >function setTransactionName(name) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/setTransactionName'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var transaction = this.agent.tracer.getTransaction()</span>
<span class="cstat-no" title="statement not covered" >  if (!transaction) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn("No transaction found when setting name to '%s'.", name)</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!name) {</span>
<span class="cstat-no" title="statement not covered" >    if (transaction &amp;&amp; transaction.url) {</span>
<span class="cstat-no" title="statement not covered" >      logger.error("Must include name in setTransactionName call for URL %s.",</span>
                   transaction.url)
    } else {
<span class="cstat-no" title="statement not covered" >      logger.error("Must include name in setTransactionName call.")</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  transaction.forceName = NAMES.CUSTOM + '/' + name</span>
}
&nbsp;
/**
 * Give the current transaction a name based on your own idea of what
 * constitutes a controller in your Node application. Also allows you to
 * optionally specify the action being invoked on the controller. If the action
 * is omitted, then the API will default to using the HTTP method used in the
 * request (e.g. GET, POST, DELETE). Overrides any New Relic naming rules set
 * in configuration or from New Relic's servers.
 *
 * IMPORTANT: this function must be called when a transaction is active. New
 * Relic transactions are tied to web requests, so this method may be called
 * from within HTTP or HTTPS listener functions, Express routes, or other
 * contexts where a web request or response object are in scope.
 *
 * @param {string} name   The name you want to give the controller in the New
 *                        Relic UI. Will be prefixed with 'Controller/' when
 *                        sent.
 * @param {string} action The action being invoked on the controller. Defaults
 *                        to the HTTP method used for the request.
 */
API.prototype.setControllerName = <span class="fstat-no" title="function not covered" >function setControllerName(name, action) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/setControllerName'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var transaction = this.agent.tracer.getTransaction()</span>
<span class="cstat-no" title="statement not covered" >  if (!transaction) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn("No transaction found when setting controller to %s.", name)</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!name) {</span>
<span class="cstat-no" title="statement not covered" >    if (transaction &amp;&amp; transaction.url) {</span>
<span class="cstat-no" title="statement not covered" >      logger.error("Must include name in setControllerName call for URL %s.",</span>
                   transaction.url)
    } else {
<span class="cstat-no" title="statement not covered" >      logger.error("Must include name in setControllerName call.")</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  action = action || transaction.verb || 'GET'</span>
<span class="cstat-no" title="statement not covered" >  transaction.forceName = NAMES.CONTROLLER + '/' + name + '/' + action</span>
}
&nbsp;
/**
 * Add a custom parameter to the current transaction. Some parameters are
 * reserved (see CUSTOM_BLACKLIST for the current, very short list), and
 * as with most API methods, this must be called in the context of an
 * active transaction. Most recently set value wins.
 *
 * @param {string} name  The name you want displayed in the RPM UI.
 * @param {string} value The value you want displayed. Must be serializable.
 */
API.prototype.addCustomParameter = <span class="fstat-no" title="function not covered" >function addCustomParameter(name, value) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/addCustomParameter'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
  // If high security mode is on, custom params are disabled.
<span class="cstat-no" title="statement not covered" >  if (this.agent.config.high_security === true) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warnOnce(</span>
      "Custom params",
      "Custom parameters are disabled by high security mode."
    )
<span class="cstat-no" title="statement not covered" >    return false</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var ignored = this.agent.config.ignored_params || []</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var transaction = this.agent.tracer.getTransaction()</span>
<span class="cstat-no" title="statement not covered" >  if (!transaction) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn("No transaction found for custom parameters.")</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var trace = transaction.trace</span>
<span class="cstat-no" title="statement not covered" >  if (!trace.custom) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn(</span>
      "Couldn't add parameter %s to nonexistent custom parameters.",
      name
    )
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (CUSTOM_BLACKLIST.indexOf(name) !== -1) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn("Not overwriting value of NR-only parameter %s.", name)</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (ignored.indexOf(name) !== -1) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn("Not setting ignored parameter name %s.", name)</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (name in trace.custom) {</span>
<span class="cstat-no" title="statement not covered" >    logger.debug(</span>
      "Changing custom parameter %s from %s to %s.",
      name,
      trace.custom[name],
      value
    )
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  trace.custom[name] = value</span>
}
&nbsp;
/**
 * Adds all custom parameters in an object to the current transaction.
 *
 * See documentation for newrelic.addCustomParameter for more information on
 * setting custom parameters.
 *
 * An example of setting a custom parameter object:
 *
 *    newrelic.addCustomParameters({test: 'value', test2: 'value2'});
 *
 * @param {object} [params]
 * @param {string} [params.KEY] The name you want displayed in the RPM UI.
 * @param {string} [params.KEY.VALUE] The value you want displayed. Must be serializable.
 */
API.prototype.addCustomParameters = <span class="fstat-no" title="function not covered" >function addCustomParameters(params) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/addCustomParameters'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var key in params) {</span>
<span class="cstat-no" title="statement not covered" >    if (!params.hasOwnProperty(key)) {</span>
<span class="cstat-no" title="statement not covered" >      continue</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.addCustomParameter(key, params[key])</span>
  }
}
&nbsp;
/**
 * Tell the tracer whether to ignore the current transaction. The most common
 * use for this will be to mark a transaction as ignored (maybe it's handling
 * a websocket polling channel, or maybe it's an external call you don't care
 * is slow), but it's also useful when you want a transaction that would
 * otherwise be ignored due to URL or transaction name normalization rules
 * to *not* be ignored.
 *
 * @param {boolean} ignored Ignore, or don't ignore, the current transaction.
 */
API.prototype.setIgnoreTransaction = <span class="fstat-no" title="function not covered" >function setIgnoreTransaction(ignored) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/setIgnoreTransaction'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var transaction = this.agent.tracer.getTransaction()</span>
<span class="cstat-no" title="statement not covered" >  if (!transaction) {</span>
<span class="cstat-no" title="statement not covered" >    return logger.warn("No transaction found to ignore.")</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  transaction.forceIgnore = ignored</span>
}
&nbsp;
/**
 * Send errors to New Relic that you've already handled yourself. Should be an
 * `Error` or one of its subtypes, but the API will handle strings and objects
 * that have an attached `.message` or `.stack` property.
 *
 * NOTE: Errors that are recorded using this method do _not_ obey the
 * `ignore_status_codes` configuration.
 *
 * @param {Error} error
 *  The error to be traced.
 *
 * @param {object} [customParameters]
 *  Optional. Any custom parameters to be displayed in the New Relic UI.
 */
API.prototype.noticeError = <span class="fstat-no" title="function not covered" >function noticeError(error, customParameters) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/noticeError'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof error === 'string') <span class="cstat-no" title="statement not covered" >error = new Error(error)</span></span>
<span class="cstat-no" title="statement not covered" >  var transaction = this.agent.tracer.getTransaction()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.agent.errors.addUserError(transaction, error, customParameters)</span>
}
&nbsp;
/**
 * If the URL for a transaction matches the provided pattern, name the
 * transaction with the provided name. If there are capture groups in the
 * pattern (which is a standard JavaScript regular expression, and can be
 * passed as either a RegExp or a string), then the substring matches ($1, $2,
 * etc.) are replaced in the name string. BE CAREFUL WHEN USING SUBSTITUTION.
 * If the replacement substrings are highly variable (i.e. are identifiers,
 * GUIDs, or timestamps), the rule will generate too many metrics and
 * potentially get your application blacklisted by New Relic.
 *
 * An example of a good rule with replacements:
 *
 *   newrelic.addNamingRule('^/storefront/(v[1-5])/(item|category|tag)',
 *                          'CommerceAPI/$1/$2')
 *
 * An example of a bad rule with replacements:
 *
 *   newrelic.addNamingRule('^/item/([0-9a-f]+)', 'Item/$1')
 *
 * Keep in mind that the original URL and any query parameters will be sent
 * along with the request, so slow transactions will still be identifiable.
 *
 * Naming rules can not be removed once added. They can also be added via the
 * agent's configuration. See configuration documentation for details.
 *
 * @param {RegExp} pattern The pattern to rename (with capture groups).
 * @param {string} name    The name to use for the transaction.
 */
API.prototype.addNamingRule = <span class="fstat-no" title="function not covered" >function addNamingRule(pattern, name) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/addNamingRule'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!name) <span class="cstat-no" title="statement not covered" >return logger.error("Simple naming rules require a replacement name.")</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.agent.userNormalizer.addSimple(pattern, '/' + name)</span>
}
&nbsp;
/**
 * If the URL for a transaction matches the provided pattern, ignore the
 * transaction attached to that URL. Useful for filtering socket.io connections
 * and other long-polling requests out of your agents to keep them from
 * distorting an app's apdex or mean response time. Pattern may be a (standard
 * JavaScript) RegExp or a string.
 *
 * Example:
 *
 *   newrelic.addIgnoringRule('^/socket\\.io/')
 *
 * @param {RegExp} pattern The pattern to ignore.
 */
API.prototype.addIgnoringRule = <span class="fstat-no" title="function not covered" >function addIgnoringRule(pattern) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/addIgnoringRule'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!pattern) <span class="cstat-no" title="statement not covered" >return logger.error("Must include a URL pattern to ignore.")</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.agent.userNormalizer.addSimple(pattern, null)</span>
}
&nbsp;
/**
 * Get the &lt;script&gt;...&lt;/script&gt; header necessary for Browser Monitoring
 * This script must be manually injected into your templates, as high as possible
 * in the header, but _after_ any X-UA-COMPATIBLE HTTP-EQUIV meta tags.
 * Otherwise you may hurt IE!
 *
 * This method must be called _during_ a transaction, and must be called every
 * time you want to generate the headers.
 *
 * Do *not* reuse the headers between users, or even between requests.
 *
 * @returns {string} the &lt;script&gt; header to be injected
 */
API.prototype.getBrowserTimingHeader = <span class="fstat-no" title="function not covered" >function getBrowserTimingHeader() {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/getBrowserTimingHeader'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var config = this.agent.config</span>
&nbsp;
  /**
   * Gracefully fail.
   *
   * Output an HTML comment and log a warning the comment is meant to be
   * innocuous to the end user.
   *
   * @param {number} num          - Error code from `RUM_ISSUES`.
   * @param {bool} [quite=false]  - Be quiet about this failure.
   *
   * @see RUM_ISSUES
   */
<span class="fstat-no" title="function not covered" >  function _gracefail(num, quiet) {</span>
<span class="cstat-no" title="statement not covered" >    if (quiet) {</span>
<span class="cstat-no" title="statement not covered" >      logger.debug(RUM_ISSUES[num])</span>
    } else {
<span class="cstat-no" title="statement not covered" >      logger.warn(RUM_ISSUES[num])</span>
    }
<span class="cstat-no" title="statement not covered" >    return '&lt;!-- NREUM: (' + num + ') --&gt;'</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var browser_monitoring = config.browser_monitoring</span>
&nbsp;
  // config.browser_monitoring should always exist, but we don't want the agent
  // to bail here if something goes wrong
<span class="cstat-no" title="statement not covered" >  if (!browser_monitoring) <span class="cstat-no" title="statement not covered" >return _gracefail(2)</span></span>
&nbsp;
  /* Can control header generation with configuration this setting is only
   * available in the newrelic.js config file, it is not ever set by the
   * server.
   */
<span class="cstat-no" title="statement not covered" >  if (!browser_monitoring.enable) {</span>
    // It has been disabled by the user; no need to warn them about their own
    // settings so fail quietly and gracefully.
<span class="cstat-no" title="statement not covered" >    return _gracefail(0, true)</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var trans = this.agent.getTransaction()</span>
&nbsp;
  // bail gracefully outside a transaction
<span class="cstat-no" title="statement not covered" >  if (!trans) <span class="cstat-no" title="statement not covered" >return _gracefail(1)</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var name = trans.getName()</span>
&nbsp;
  /* If we're in an unnamed transaction, add a friendly warning this is to
   * avoid people going crazy, trying to figure out why browser monitoring is
   * not working when they're missing a transaction name.
   */
<span class="cstat-no" title="statement not covered" >  if (!name) <span class="cstat-no" title="statement not covered" >return _gracefail(3)</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var time = trans.timer.getDurationInMillis()</span>
&nbsp;
  /*
   * Only the first 13 chars of the license should be used for hashing with
   * the transaction name.
   */
<span class="cstat-no" title="statement not covered" >  var key = config.license_key.substr(0, 13)</span>
<span class="cstat-no" title="statement not covered" >  var appid = config.application_id</span>
&nbsp;
  /* This is only going to work if the agent has successfully handshaked with
   * the collector. If the networks is bad, or there is no license key set in
   * newrelis.js, there will be no application_id set.  We bail instead of
   * outputting null/undefined configuration values.
   */
<span class="cstat-no" title="statement not covered" >  if (!appid) <span class="cstat-no" title="statement not covered" >return _gracefail(4)</span></span>
&nbsp;
  /* If there is no browser_key, the server has likely decided to disable
   * browser monitoring.
   */
<span class="cstat-no" title="statement not covered" >  var licenseKey = browser_monitoring.browser_key</span>
<span class="cstat-no" title="statement not covered" >  if (!licenseKey) <span class="cstat-no" title="statement not covered" >return _gracefail(5)</span></span>
&nbsp;
  /* If there is no agent_loader script, there is no point
   * in setting the rum data
   */
<span class="cstat-no" title="statement not covered" >  var js_agent_loader = browser_monitoring.js_agent_loader</span>
<span class="cstat-no" title="statement not covered" >  if (!js_agent_loader) <span class="cstat-no" title="statement not covered" >return _gracefail(6)</span></span>
&nbsp;
  /* If rum is enabled, but then later disabled on the server,
   * this is the only parameter that gets updated.
   *
   * This condition should only be met if rum is disabled during
   * the lifetime of an application, and it should be picked up
   * on the next ForceRestart by the collector.
   */
<span class="cstat-no" title="statement not covered" >  var loader = browser_monitoring.loader</span>
<span class="cstat-no" title="statement not covered" >  if (loader === 'none') <span class="cstat-no" title="statement not covered" >return _gracefail(7)</span></span>
&nbsp;
  // This hash gets written directly into the browser.
<span class="cstat-no" title="statement not covered" >  var rum_hash = {</span>
    agent: browser_monitoring.js_agent_file,
    beacon: browser_monitoring.beacon,
    errorBeacon: browser_monitoring.error_beacon,
    licenseKey: licenseKey,
    applicationID: appid,
    applicationTime: time,
    transactionName: hashes.obfuscateNameUsingKey(name, key),
    queueTime: trans.queueTime,
    ttGuid: trans.id,
&nbsp;
    // we don't use these parameters yet
    agentToken: null
  }
&nbsp;
  // if debugging, do pretty format of JSON
<span class="cstat-no" title="statement not covered" >  var tabs = config.browser_monitoring.debug ? 2 : 0</span>
<span class="cstat-no" title="statement not covered" >  var json = JSON.stringify(rum_hash, null, tabs)</span>
&nbsp;
&nbsp;
  // the complete header to be written to the browser
<span class="cstat-no" title="statement not covered" >  var out = util.format(</span>
    RUM_STUB,
    json,
    js_agent_loader
  )
&nbsp;
<span class="cstat-no" title="statement not covered" >  logger.trace('generating RUM header', out)</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return out</span>
}
&nbsp;
/**
 * This creates a new tracer with the passed in name. It then wraps the
 * callback and binds it to the current transaction and segment so any further
 * custom instrumentation as well as auto instrumentation will also be able to
 * find the current transaction and segment.
 */
API.prototype.createTracer = <span class="fstat-no" title="function not covered" >function createTracer(name, callback) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/createTracer'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
  // FLAG: custom_instrumentation
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.feature_flag.custom_instrumentation) {</span>
<span class="cstat-no" title="statement not covered" >    return callback</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var fail = false</span>
<span class="cstat-no" title="statement not covered" >  if (!name) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('createTracer called without a name')</span>
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof callback !== 'function') {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('createTracer called with a callback arg that is not a function')</span>
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (fail) {</span>
    // If name is undefined but callback is defined we should make a best effort
    // to return it so things don't crash.
<span class="cstat-no" title="statement not covered" >    return callback</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var tracer = this.agent.tracer</span>
<span class="cstat-no" title="statement not covered" >  var txn = tracer.getTransaction()</span>
<span class="cstat-no" title="statement not covered" >  if (!txn) {</span>
<span class="cstat-no" title="statement not covered" >    logger.debug(</span>
      'createTracer called with %s (%s) outside of a transaction, ' +
        'unable to create tracer.',
      name,
      callback &amp;&amp; callback.name
    )
<span class="cstat-no" title="statement not covered" >    return callback</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  logger.debug(</span>
    'creating tracer %s (%s) on transaction %s.',
    name,
    callback &amp;&amp; callback.name,
    txn.id
  )
&nbsp;
<span class="cstat-no" title="statement not covered" >  var segment = tracer.createSegment(name, customRecorder)</span>
<span class="cstat-no" title="statement not covered" >  segment.start()</span>
<span class="cstat-no" title="statement not covered" >  return tracer.bindFunction(callback, segment, true)</span>
}
&nbsp;
/**
 * Creates a function that represents a web transaction. It does not start the
 * transaction automatically - the returned function needs to be invoked to start it.
 * Inside the handler function, the transaction must be ended by calling endTransaction().
 *
 * @example
 * var newrelic = require('newrelic')
 * var transaction = newrelic.createWebTransaction('/some/url/path', function() {
 *   // do some work
 *   newrelic.endTransaction()
 * })
 *
 * @param {string}    url       The URL of the transaction.  It is used to name and group
                                related transactions in APM, so it should be a generic
                                name and not iclude any variable parameters.
 * @param {Function}  handle    Function that represents the transaction work.
 */
API.prototype.createWebTransaction = <span class="fstat-no" title="function not covered" >function createWebTransaction(url, handle) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/createWebTransaction'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
  // FLAG: custom_instrumentation
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.feature_flag.custom_instrumentation) {</span>
<span class="cstat-no" title="statement not covered" >    return handle</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var fail = false</span>
<span class="cstat-no" title="statement not covered" >  if (!url) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('createWebTransaction called without an url')</span>
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof handle !== 'function') {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('createWebTransaction called with a handle arg that is not a function')</span>
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (fail) {</span>
    // If name is undefined but handle is defined we should make a best effort
    // to return it so things don't crash.
<span class="cstat-no" title="statement not covered" >    return handle</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  logger.debug(</span>
    'creating web transaction generator %s (%s).',
    url,
    handle &amp;&amp; handle.name
  )
&nbsp;
<span class="cstat-no" title="statement not covered" >  var tracer = this.agent.tracer</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return tracer.transactionNestProxy('web', <span class="fstat-no" title="function not covered" >function createWebSegment() {</span></span>
<span class="cstat-no" title="statement not covered" >    var tx = tracer.getTransaction()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    logger.debug(</span>
      'creating web transaction %s (%s) with transaction id: %s',
      url,
      handle &amp;&amp; handle.name,
      tx.id
    )
<span class="cstat-no" title="statement not covered" >    tx.nameState.setName(NAMES.CUSTOM, null, NAMES.ACTION_DELIMITER, url)</span>
<span class="cstat-no" title="statement not covered" >    tx.url = url</span>
<span class="cstat-no" title="statement not covered" >    tx.applyUserNamingRules(tx.url)</span>
<span class="cstat-no" title="statement not covered" >    tx.webSegment = tracer.createSegment(url, recordWeb)</span>
<span class="cstat-no" title="statement not covered" >    tx.webSegment.start()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    return tracer.bindFunction(handle, tx.webSegment).apply(this, arguments)</span>
  })
}
&nbsp;
/**
 * Creates a function that represents a background transaction. It does not start the
 * transaction automatically - the returned function needs to be invoked to start it.
 * Inside the handler function, the transaction must be ended by calling endTransaction().
 *
 * @example
 * var newrelic = require('newrelic')
 * var transaction = newrelic.createBackgroundTransaction('myTransaction', function() {
 *   // do some work
 *   newrelic.endTransaction()
 * })
 *
 * @param {string}    name      The name of the transaction.  It is used to name and group
                                related transactions in APM, so it should be a generic
                                name and not iclude any variable parameters.
 * @param {string}    [group]   Optional, used for grouping background transactions in
 *                              APM.  For more information see:
 *                              https://docs.newrelic.com/docs/apm/applications-menu/monitoring/transactions-page#txn-type-dropdown
 * @param {Function}  handle    Function that represents the background work.
 */
API.prototype.createBackgroundTransaction = createBackgroundTransaction
&nbsp;
<span class="fstat-no" title="function not covered" >function createBackgroundTransaction(name, group, handle) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/createBackgroundTransaction'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (handle === undefined &amp;&amp; typeof group === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    handle = group</span>
<span class="cstat-no" title="statement not covered" >    group = 'Nodejs'</span>
  }
  // FLAG: custom_instrumentation
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.feature_flag.custom_instrumentation) {</span>
<span class="cstat-no" title="statement not covered" >    return handle</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var fail = false</span>
<span class="cstat-no" title="statement not covered" >  if (!name) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('createBackgroundTransaction called without an url')</span>
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof handle !== 'function') {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn(</span>
      'createBackgroundTransaction called with a handle arg that is not a function'
    )
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (fail) {</span>
    // If name is undefined but handle is defined we should make a best effort
    // to return it so things don't crash.
<span class="cstat-no" title="statement not covered" >    return handle</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  logger.debug(</span>
    'creating background transaction generator %s:%s (%s)',
    name,
    group,
    handle &amp;&amp; handle.name
  )
&nbsp;
<span class="cstat-no" title="statement not covered" >  var tracer = this.agent.tracer</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return tracer.transactionNestProxy('bg', <span class="fstat-no" title="function not covered" >function createBackgroundSegment() {</span></span>
<span class="cstat-no" title="statement not covered" >    var tx = tracer.getTransaction()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    logger.debug(</span>
      'creating background transaction %s:%s (%s) with transaction id: %s',
      name,
      group,
      handle &amp;&amp; handle.name,
      tx.id
    )
&nbsp;
<span class="cstat-no" title="statement not covered" >    tx.setBackgroundName(name, group)</span>
<span class="cstat-no" title="statement not covered" >    tx.bgSegment = tracer.createSegment(name, recordBackground)</span>
<span class="cstat-no" title="statement not covered" >    tx.bgSegment.partialName = group</span>
<span class="cstat-no" title="statement not covered" >    tx.bgSegment.start()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    return tracer.bindFunction(handle, tx.bgSegment).apply(this, arguments)</span>
  })
}
&nbsp;
API.prototype.endTransaction = <span class="fstat-no" title="function not covered" >function endTransaction() {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/endTransaction'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
  // FLAG: custom_instrumentation
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.feature_flag.custom_instrumentation) {</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var tracer = this.agent.tracer</span>
<span class="cstat-no" title="statement not covered" >  var tx = tracer.getTransaction()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (tx) {</span>
<span class="cstat-no" title="statement not covered" >    if (tx.webSegment) {</span>
<span class="cstat-no" title="statement not covered" >      tx.setName(tx.url, 0)</span>
<span class="cstat-no" title="statement not covered" >      tx.webSegment.markAsWeb(tx.url)</span>
<span class="cstat-no" title="statement not covered" >      tx.webSegment.end()</span>
    } else <span class="cstat-no" title="statement not covered" >if (tx.bgSegment) {</span>
<span class="cstat-no" title="statement not covered" >      tx.bgSegment.end()</span>
    }
<span class="cstat-no" title="statement not covered" >    logger.debug('ending transaction with id: %s and name: %s', tx.id, tx.name)</span>
<span class="cstat-no" title="statement not covered" >    tx.end()</span>
  } else {
<span class="cstat-no" title="statement not covered" >    logger.debug('endTransaction() called while not in a transaction.')</span>
  }
}
&nbsp;
API.prototype.recordMetric = <span class="fstat-no" title="function not covered" >function recordMetric(name, value) {</span>
<span class="cstat-no" title="statement not covered" >  var supportMetric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/recordMetric'
  )
<span class="cstat-no" title="statement not covered" >  supportMetric.incrementCallCount()</span>
&nbsp;
  // FLAG: custom_metrics
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.feature_flag.custom_metrics) {</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof name !== 'string') {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('Metric name must be a string')</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(name)</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof value === 'number') {</span>
<span class="cstat-no" title="statement not covered" >    metric.recordValue(value)</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof value !== 'object') {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('Metric value must be either a number, or a metric object')</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var stats = {}</span>
<span class="cstat-no" title="statement not covered" >  var required = ['count', 'total', 'min', 'max', 'sumOfSquares']</span>
<span class="cstat-no" title="statement not covered" >  var keyMap = {count: 'callCount'}</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var i = 0, l = required.length; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof value[required[i]] !== 'number') {</span>
<span class="cstat-no" title="statement not covered" >      logger.warn('Metric object must include ' + required[i] + ' as a number')</span>
<span class="cstat-no" title="statement not covered" >      return</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var key = keyMap[required[i]] || required[i]</span>
<span class="cstat-no" title="statement not covered" >    stats[key] = value[required[i]]</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof value.totalExclusive === 'number') {</span>
<span class="cstat-no" title="statement not covered" >    stats.totalExclusive = value.totalExclusive</span>
  } else {
<span class="cstat-no" title="statement not covered" >    stats.totalExclusive = value.total</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  metric.merge(stats)</span>
}
&nbsp;
API.prototype.incrementMetric = <span class="fstat-no" title="function not covered" >function incrementMetric(name, value) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/incrementMetric'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
  // FLAG: custom_metrics
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.feature_flag.custom_metrics) {</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!value &amp;&amp; value !== 0) {</span>
<span class="cstat-no" title="statement not covered" >    value = 1</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof value !== 'number' || value % 1 !== 0) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn('Metric Increment value must be an integer')</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.recordMetric(name, {</span>
    count: value,
    total: 0,
    min: 0,
    max: 0,
    sumOfSquares: 0
  })
}
&nbsp;
API.prototype.recordCustomEvent = <span class="fstat-no" title="function not covered" >function recordCustomEvent(eventType, attributes) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/recordCustomEvent'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!this.agent.config.custom_insights_events.enabled) {</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
  // Check all the arguments before bailing to give maximum information in a
  // single invocation.
<span class="cstat-no" title="statement not covered" >  var fail = false</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!eventType || typeof eventType !== 'string') {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn(</span>
      'recordCustomEvent requires a string for its first argument, got %s (%s)',
      stringify(eventType),
      typeof eventType
    )
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  } else <span class="cstat-no" title="statement not covered" >if (!CUSTOM_EVENT_TYPE_REGEX.test(eventType)) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn(</span>
      'recordCustomEvent eventType of %s is invalid, it must match /%s/',
      eventType,
      CUSTOM_EVENT_TYPE_REGEX.source
    )
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  } else <span class="cstat-no" title="statement not covered" >if (eventType.length &gt; 255) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn(</span>
      'recordCustomEvent eventType must have a length less than 256, got %s (%s)',
      eventType,
      eventType.length
    )
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
  // If they don't pass an attributes object, or the attributes argument is not
  // an object, or if it is an object and but is actually an array, log a
  // warning and set the fail bit.
<span class="cstat-no" title="statement not covered" >  if (!attributes || typeof attributes !== 'object' || Array.isArray(attributes)) {</span>
<span class="cstat-no" title="statement not covered" >    logger.warn(</span>
      'recordCustomEvent requires an object for its second argument, got %s (%s)',
      stringify(attributes),
      typeof attributes
    )
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  } else <span class="cstat-no" title="statement not covered" >if (_checkKeyLength(attributes, 255)) {</span>
<span class="cstat-no" title="statement not covered" >    fail = true</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (fail) {</span>
<span class="cstat-no" title="statement not covered" >    return</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var instrinics = {</span>
    type: eventType,
    timestamp: Date.now()
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.agent.customEvents.add([instrinics, attributes])</span>
}
&nbsp;
/**
 * Shuts down the agent.
 *
 * @param {object}  [options]                           object with shut down options
 * @param {boolean} [options.collectPendingData=false]  If true, the agent will send any
 *                                                      pending data to the collector
 *                                                      before shutting down.
 * @param {number}  [options.timeout]                   time in ms to wait before
 *                                                      shutting down
 * @param {function} [callback]                         callback function that runs when
 *                                                      agent stopped
 */
API.prototype.shutdown = <span class="fstat-no" title="function not covered" >function shutdown(options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  var metric = this.agent.metrics.getOrCreateMetric(</span>
    NAMES.SUPPORTABILITY.API + '/shutdown'
  )
<span class="cstat-no" title="statement not covered" >  metric.incrementCallCount()</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var callback = cb</span>
<span class="cstat-no" title="statement not covered" >  if (!callback) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof options === 'function') {</span>
<span class="cstat-no" title="statement not covered" >      callback = options</span>
    } else {
<span class="cstat-no" title="statement not covered" >      callback = <span class="fstat-no" title="function not covered" >function noop() {</span>}</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var agent = this.agent</span>
&nbsp;
<span class="fstat-no" title="function not covered" >  function cb_harvest(error) {</span>
<span class="cstat-no" title="statement not covered" >    if (error) {</span>
<span class="cstat-no" title="statement not covered" >      logger.error(</span>
        error,
        'An error occurred while running last harvest before shutdown.'
      )
    }
<span class="cstat-no" title="statement not covered" >    agent.stop(callback)</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (options &amp;&amp; options.collectPendingData &amp;&amp; agent._state !== 'started') {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof options.timeout === 'number') {</span>
<span class="cstat-no" title="statement not covered" >      var shutdownTimeout = setTimeout(<span class="fstat-no" title="function not covered" >function shutdownTimeout() {</span></span>
<span class="cstat-no" title="statement not covered" >        agent.stop(callback)</span>
      }, options.timeout)
      // timer.unref only in 0.9+
<span class="cstat-no" title="statement not covered" >      if (shutdownTimeout.unref) {</span>
<span class="cstat-no" title="statement not covered" >        shutdownTimeout.unref()</span>
      }
    } else <span class="cstat-no" title="statement not covered" >if (options.timeout) {</span>
<span class="cstat-no" title="statement not covered" >      logger.warn(</span>
        'options.timeout should be of type "number". Got %s',
        typeof options.timeout
      )
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    agent.on('started', <span class="fstat-no" title="function not covered" >function shutdownHarvest() {</span></span>
<span class="cstat-no" title="statement not covered" >      agent.harvest(cb_harvest)</span>
    })
<span class="cstat-no" title="statement not covered" >    agent.on('errored', <span class="fstat-no" title="function not covered" >function logShutdownError(error) {</span></span>
<span class="cstat-no" title="statement not covered" >      agent.stop(callback)</span>
<span class="cstat-no" title="statement not covered" >      if (error) {</span>
<span class="cstat-no" title="statement not covered" >        logger.error(</span>
          error,
          'The agent encountered an error after calling shutdown.'
        )
      }
    })
  } else <span class="cstat-no" title="statement not covered" >if (options &amp;&amp; options.collectPendingData) {</span>
<span class="cstat-no" title="statement not covered" >    agent.harvest(cb_harvest)</span>
  } else {
<span class="cstat-no" title="statement not covered" >    agent.stop(callback)</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function _checkKeyLength(object, maxLength) {</span>
<span class="cstat-no" title="statement not covered" >  var keys = Object.keys(object)</span>
<span class="cstat-no" title="statement not covered" >  var badKey = false</span>
<span class="cstat-no" title="statement not covered" >  var len = keys.length</span>
<span class="cstat-no" title="statement not covered" >  var key = '' </span>// init to string because gotta go fast
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    key = keys[i]</span>
<span class="cstat-no" title="statement not covered" >    if (key.length &gt; maxLength) {</span>
<span class="cstat-no" title="statement not covered" >      logger.warn(</span>
        'recordCustomEvent requires keys to be less than 256 chars got %s (%s)',
        key,
        key.length
      )
<span class="cstat-no" title="statement not covered" >      badKey = true</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return badKey</span>
}
&nbsp;
module.exports = API
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Sat Apr 22 2017 07:13:57 GMT+0000 (UTC)</div>
</div>
</body>
</html>
